---
title: 关于骰子的小算法
date: 2016-12-07 16:52:37
tags: [Algorithms]
description: 游戏算法
categories: Game
---

今天，遇到一个算法的问题，让我头疼一阵，其实也不是一道非常难的题，但奈何我怎么求都没有求出来，最后只有请教高人，才得以解决。

需求：三个骰子，他们的和为一个定值，知道骰子的人，应该很快得出这个值的取值范围为：3~18，随机求三个骰子的点数。

说明：骰子的点数为1~6，我只随机求一个组合，不想求所有点数的组合，这样动态规划，贪心等，常用方法无法行得通（这是我认为的，因为我没想过怎么用这些方法去求）。这样就得换个思路，我先随机两个点数，最后一个点数用和相减就可以求出来。

范围确定：利用上面所说方法，会遇到一个求随机数范围的问题，这也是把我搞晕的地方。那就我直接说正确的方法，首先，每个骰子必定会有1点，那么为了保证骰子会有1点，我就从和里面减去3点（3个骰子）。那么现在骰子点数容许的范围为0~5,而骰子的和变为0~15.先看第一个骰子，先这样想下，如果用随机数在0~5之间取一个数，会有什么问题。那么会出现假如骰子的和为3,减去3后，变为0，这时如果在0~5之间随机，很难取到0；同理想一下和为18的时候。之后就得好好想下了，首先现在一个数字最小不能小于0最大不能大于5，这样最基本的范围就确定下来了，这样根据前面的例子我们可以看出还需要一个范围，这样想一下，假设3个的和为14，那么最小的一个最小值为2 即14-6-6=2，这样就可以很容易想到第一个骰子最小值为max(0,和-10);为什么是,10呢，因为之前有减过3。现在再想想假如3个的和为5，那么最大的一个最大值为3，这样第一个骰子最大值为 min(和,5)。这样同理可以想出第二个的范围，对于第三个的值只要用和相减就行。

代码：![Image](/image/1207/1.png)  记得最后s1,s2,s3都要加一

另一个思想：我将这个问题数学化：已知x+y+z=a，a为常数并且3<=a<=18，1<=x<=6,1<=y<=6,1<=z<=6，假设：我们先算出x的取值范围，之后从取值范围内随机去一个数，之后再确定y的取值范围，再取一个数，之后得到z的值问：x关于a的取值范围是多少

![Image](/image/1207/2.jpg)

这是一个网友的解答，GEF就是x+y+z=a这个方程的面，最大点为C点和为18，最小点为A'点和为3，而分界点为和为13点，这样就很容易想到上面所说的范围。